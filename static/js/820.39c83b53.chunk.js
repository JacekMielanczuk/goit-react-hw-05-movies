"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[820],{315:function(e,t,n){n.d(t,{Y:function(){return o}});var a="bd1f74544935b756e43565ea50ae79a5",r=n(243).Z.create({baseURL:"https://api.themoviedb.org",headers:{"Content-Type":"application/json"},params:{api_key:a,language:"en-US"}}),o=function(e){try{return r.get("/".concat(e))}catch(t){console.log(t)}};t.Z=a},820:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var a=n(439),r=n(689),o=n(87),c=n(692),u=n(433),s=n(791),i=n(315),l=function(){var e,t=(0,s.useState)(1),n=(0,a.Z)(t,2),r=n[0],c=n[1],l=(0,s.useState)(!1),f=(0,a.Z)(l,2),p=f[0],d=f[1],h=(0,o.lr)(),m=(0,a.Z)(h,2),g=m[0],_=m[1],v=null!==(e=g.get("query"))&&void 0!==e?e:"",x="3/search/movie?&query=".concat(v,"&page=").concat(r,"&include_adult=false"),b=(0,s.useState)([]),j=(0,a.Z)(b,2),y=j[0],Z=j[1];return(0,s.useEffect)((function(){""!==v.trim()&&(0,i.Y)(x).then((function(e){var t=e.data,n=t.page,a=t.results,r=t.total_pages;Z((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(a))})),c(n),r>n&&d(!0)})).catch((function(e){console.log(e.message)}))}),[x,v,r]),[y,function(e){e.preventDefault();var t=e.currentTarget.elements.input.value;if(!t)return _({});_({query:t})},p,function(){c((function(e){return e+1}))}]},f="MoviesPage_form__2deBf",p="MoviesPage_button__AUtxX",d="MoviesPage_input__16dJ5",h=n(184),m=function(){var e=l(),t=(0,a.Z)(e,4),n=t[0],u=t[1],s=t[2],i=t[3],m=(0,r.TH)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{className:f,onSubmit:u,children:[(0,h.jsx)("button",{className:p,type:"submit",children:(0,h.jsx)(c.Goc,{size:"20px"})}),(0,h.jsx)("input",{className:d,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),(0,h.jsx)("ul",{children:n.length>0&&n.map((function(e){var t=e.original_title,n=e.id;return(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{to:"".concat(n),state:{from:m},children:(0,h.jsx)("span",{children:t})})},n)}))}),s&&(0,h.jsx)("button",{type:"button",onClick:i,children:"Load More"})]})}}}]);
//# sourceMappingURL=820.39c83b53.chunk.js.map