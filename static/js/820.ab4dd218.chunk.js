"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[820],{529:function(e,t,n){n.d(t,{Y:function(){return o}});var a=n(243).Z.create({baseURL:"https://api.themoviedb.org",headers:{"Content-Type":"application/json"}}),o=function(e){try{return a.get("/".concat(e))}catch(t){console.log(t)}}},3:function(e,t){t.Z="bd1f74544935b756e43565ea50ae79a5"},820:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(439),o=n(689),r=n(87),c=n(692),u=n(433),i=n(791),s=n(3),l=n(529),f=function(){var e,t=(0,i.useState)(1),n=(0,a.Z)(t,2),o=n[0],c=n[1],f=(0,i.useState)(!1),p=(0,a.Z)(f,2),d=p[0],h=p[1],m=(0,r.lr)(),g=(0,a.Z)(m,2),_=g[0],v=g[1],x=null!==(e=_.get("query"))&&void 0!==e?e:"",b="3/search/movie?api_key=".concat(s.Z,"&query=").concat(x,"&language=en-US&page=1&include_adult=false&page=").concat(o),j=(0,i.useState)([]),Z=(0,a.Z)(j,2),y=Z[0],k=Z[1];return(0,i.useEffect)((function(){""!==x.trim()&&(0,l.Y)(b).then((function(e){var t=e.data,n=t.page,a=t.results,o=t.total_pages;k((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(a))})),c(n),o>n&&h(!0)})).catch((function(e){console.log(e.message)}))}),[b,x,o]),[y,function(e){e.preventDefault();var t=e.currentTarget.elements.input.value;if(!t)return v({});v({query:t})},d,function(){c((function(e){return e+1}))}]},p="MoviesPage_form__2deBf",d="MoviesPage_button__AUtxX",h="MoviesPage_input__16dJ5",m=n(184),g=function(){var e=f(),t=(0,a.Z)(e,4),n=t[0],u=t[1],i=t[2],s=t[3],l=(0,o.TH)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:p,onSubmit:u,children:[(0,m.jsx)("button",{className:d,type:"submit",children:(0,m.jsx)(c.Goc,{size:"20px"})}),(0,m.jsx)("input",{className:h,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),(0,m.jsx)("ul",{children:n.length>0&&n.map((function(e){var t=e.original_title,n=e.id;return(0,m.jsx)("li",{children:(0,m.jsx)(r.rU,{to:"".concat(n),state:{from:l},children:(0,m.jsx)("span",{children:t})})},n)}))}),i&&(0,m.jsx)("button",{type:"button",onClick:s,children:"Load More"})]})}}}]);
//# sourceMappingURL=820.ab4dd218.chunk.js.map